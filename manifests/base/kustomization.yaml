apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  # Base namespaces
  - namespace.yaml
  - client-egress-proxy-demo/namespace.yaml

  # Base components
  - service-account.yaml
  - deployment.yaml
  - service.yaml
  - config/scaleway-proxy-config.yaml

  # Client egress proxy demo
  - client-egress-proxy-demo/deployment.yaml

  # Egress multitenant demo application
  - egress-multitenant-demo

commonLabels:
  app: scaleway-proxy

images:
  - name: ghcr.io/monitob/scaleway-k8s-egres-proxy
    newTag: latest
# No configMapGenerator needed at base level
# It will be defined in overlays with proper namespace targeting
